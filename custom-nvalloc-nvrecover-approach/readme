customised nvmalloc and nvrecover to support list.
